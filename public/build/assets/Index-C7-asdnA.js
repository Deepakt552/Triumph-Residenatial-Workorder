import{r,G as B,j as e,S as Y,x as p,A as j,V as w}from"./app-C7HmzJUd.js";import{A as E}from"./AdminLayout-BDU_HIAd.js";import{P as R}from"./Pagination-BcGU2XBB.js";import{M as T,S as z,D as I}from"./SecondaryButton-XS0gnoGE.js";import"./ApplicationLogo-BmzfqIeR.js";import"./ResponsiveNavLink-C3H-ixPB.js";import"./transition-CDNGgBsE.js";function K({properties:t,filters:v,auth:u}){const i=v||{},[o,f]=r.useState(i.search||""),[c,N]=r.useState(i.sort_field||"created_at"),[d,b]=r.useState(i.sort_direction||"desc"),[a,k]=r.useState(!1),[S,m]=r.useState(!1),[C,D]=r.useState(null),{delete:_,processing:g}=B();r.useEffect(()=>{k(!0)},[]);const x=s=>{const n=s===c&&d==="asc"?"desc":"asc";N(s),b(n),y(s,n)},y=(s=c,n=d)=>{const l={};o&&(l.search=o),s&&(l.sort_field=s),n&&(l.sort_direction=n),i.page&&(l.page=i.page),j.get(route("admin.properties.index"),l)},L=s=>{s.preventDefault(),y()},M=()=>{f(""),j.get(route("admin.properties.index"),{sort_field:c,sort_direction:d})},h=s=>c!==s?null:d==="asc"?e.jsx("svg",{className:"ml-1 h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 4.414 6.707 7.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}):e.jsx("svg",{className:"ml-1 h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 15.586l3.293-3.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),P=o,A=s=>{D(s),m(!0)},F=()=>{_(route("admin.properties.destroy",C.id),{onSuccess:()=>{w.success("Property deleted successfully"),m(!1)},onError:s=>{w.error(s.message||"Failed to delete property")}})};return u.user&&u.user.role,e.jsxs(E,{header:"Properties",children:[e.jsx(Y,{title:"Properties"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8 rounded-lg bg-gradient-to-r from-primary-700 to-primary-600 p-6 shadow-lg transition-all duration-500",style:{opacity:a?1:0,transform:a?"translateY(0)":"translateY(20px)"},children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-medium text-white",children:"Properties"}),e.jsx("p",{className:"mt-1 text-sm text-primary-100",children:"Manage all properties in the system"})]}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsxs(p,{href:route("admin.properties.create"),className:"inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-medium text-primary-700 shadow-sm hover:bg-primary-50 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary-600 transition-colors duration-150",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Property"]})})]})}),e.jsx("div",{className:"mb-6 rounded-lg bg-white p-4 shadow-sm transition-all duration-500",style:{opacity:a?1:0,transform:a?"translateY(0)":"translateY(20px)",transitionDelay:"100ms"},children:e.jsx("form",{onSubmit:L,children:e.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-end md:space-x-4 md:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),e.jsx("input",{type:"text",id:"search",name:"search",value:o,onChange:s=>f(s.target.value),placeholder:"Search by name, address, or city...",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{type:"submit",className:"inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search"]}),P&&e.jsxs("button",{type:"button",onClick:M,className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear"]})]})]})})}),e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow transition-all duration-500",style:{opacity:a?1:0,transform:a?"translateY(0)":"translateY(20px)",transitionDelay:"150ms"},children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 cursor-pointer",onClick:()=>x("name"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:"Property Name"}),h("name")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 cursor-pointer",onClick:()=>x("address"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:"Address"}),h("address")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 cursor-pointer",onClick:()=>x("city"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:"City"}),h("city")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 cursor-pointer",onClick:()=>x("created_at"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:"Created"}),h("created_at")]})}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t&&t.data&&t.data.length>0?t.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:e.jsx(p,{href:route("admin.properties.show",s.id),className:"text-primary-600 hover:text-primary-900",children:s.name})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:s.address}),e.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:[s.city,", ",s.state," ",s.zip_code]}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:e.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${s.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.active?"Active":"Inactive"})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(p,{href:route("admin.properties.edit",s.id),className:"text-primary-600 hover:text-primary-900",children:"Edit"}),e.jsx("button",{onClick:()=>A(s),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No properties found."})})})]})}),t&&t.links&&e.jsx("div",{className:"border-t border-gray-200 px-4 py-4 sm:px-6",children:e.jsx(R,{links:t.links})})]})]})}),e.jsx(T,{show:S,onClose:()=>m(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Delete Property"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Are you sure you want to delete this property? This action cannot be undone."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx(z,{onClick:()=>m(!1),children:"Cancel"}),e.jsx(I,{onClick:F,disabled:g,children:g?"Deleting...":"Delete Property"})]})]})})]})}export{K as default};
