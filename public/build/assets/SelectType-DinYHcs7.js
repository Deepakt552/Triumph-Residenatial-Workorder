import{r as t,j as e,S as k}from"./app-C7HmzJUd.js";import{F as L,g as M}from"./translations-Cp8Ohmwm.js";function E(a){const[u,l]=t.useState(a.language||"en"),[o,c]=t.useState(!1),[d,p]=t.useState(!1),[h,f]=t.useState({x:0,y:0}),[i,j]=t.useState(!1),[m,b]=t.useState({x:0,y:0}),g=t.useRef(null);t.useEffect(()=>{o||f({x:0,y:0})},[o]),t.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("lang"),x=sessionStorage.getItem("maintenance_form_language");r&&["en","es"].includes(r)?(l(r),sessionStorage.setItem("maintenance_form_language",r)):a.language&&["en","es"].includes(a.language)?(l(a.language),sessionStorage.setItem("maintenance_form_language",a.language)):x&&["en","es"].includes(x)&&l(x),setTimeout(()=>{p(!0)},300)},[a.language]);const s=n=>M(u,n),y=()=>{sessionStorage.setItem("maintenance_form_is_emergency","false"),window.location.href=`${route("maintenance.create")}?lang=${u}`},N=n=>{if(g.current&&n.target.closest(".modal-header")){j(!0);const r=g.current.getBoundingClientRect();b({x:n.clientX-r.left,y:n.clientY-r.top})}},v=n=>{i&&f({x:n.clientX-m.x,y:n.clientY-m.y})},w=()=>{j(!1)};return t.useEffect(()=>{if(o)return document.addEventListener("mousemove",v),document.addEventListener("mouseup",w),()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",w)}},[o,i,m]),e.jsxs(L,{children:[e.jsx(k,{title:"Maintenance Request Type",children:e.jsx("style",{children:`
                        @keyframes fadeIn {
                            0% { opacity: 0; transform: translateY(20px); }
                            100% { opacity: 1; transform: translateY(0); }
                        }
                        
                        @keyframes pulse {
                            0% { transform: scale(1); }
                            50% { transform: scale(1.05); }
                            100% { transform: scale(1); }
                        }
                        
                        .draggable-modal {
                            position: fixed;
                            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
                            border-radius: 0.5rem;
                            background-color: white;
                            z-index: 50;
                            overflow: hidden;
                            max-width: 28rem;
                            width: 100%;
                        }
                        
                        .modal-header {
                            cursor: move;
                            user-select: none;
                        }
                    `})}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-lg sm:rounded-lg",children:e.jsx("div",{className:"p-8 bg-white border-b border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6 transition-all duration-500",style:{animation:d?"fadeIn 0.8s ease-out forwards":"none",opacity:0},children:s("selectRequestType")}),e.jsx("div",{className:"mb-6 transition-all duration-500",style:{animation:d?"fadeIn 0.8s ease-out 0.3s forwards":"none",opacity:0},children:e.jsx("p",{className:"text-lg text-gray-600",children:s("selectRequestTypeDescription")})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",style:{animation:d?"fadeIn 0.8s ease-out 0.6s forwards":"none",opacity:0},children:[e.jsx("div",{className:"p-6 border-2 border-indigo-200 rounded-lg bg-indigo-50 cursor-pointer hover:bg-indigo-100 hover:border-indigo-300 transition-all duration-300",onClick:y,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-500 rounded-full flex items-center justify-center mb-4",children:e.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx("h3",{className:"text-xl font-bold text-indigo-800 mb-2",children:s("regularMaintenance")}),e.jsx("p",{className:"text-gray-600 text-center",children:s("regularMaintenanceDescription")})]})}),e.jsx("div",{className:"p-6 border-2 border-red-200 rounded-lg bg-red-50 cursor-pointer hover:bg-red-100 hover:border-red-300 transition-all duration-300",onClick:()=>c(!0),style:{animation:"pulse 2s infinite"},children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-xl font-bold text-red-800 mb-2",children:s("emergencyMaintenance")}),e.jsx("p",{className:"text-gray-600 text-center",children:s("emergencyMaintenanceDescription")})]})})]})]})})})})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40",children:e.jsx("div",{ref:g,className:"draggable-modal",style:{transform:`translate(${h.x}px, ${h.y}px)`,transition:i?"none":"transform 0.1s ease-out",cursor:i?"grabbing":"auto"},onMouseDown:N,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center text-red-600 mb-4 modal-header",children:[e.jsx("svg",{className:"w-8 h-8 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("h3",{className:"text-xl font-bold flex-grow",children:s("emergencyContact")}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"text-gray-700 mb-6",children:[e.jsx("p",{className:"mb-4",children:s("emergencyInstructions")}),e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:[e.jsxs("p",{className:"font-bold mb-2",children:[s("emergencyPhoneNumber"),":"]}),e.jsxs("a",{href:"tel:213-531-9789",className:"inline-flex items-center text-xl font-bold text-red-600 hover:text-red-800",children:[e.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"213-797-0311"]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"inline-flex items-center px-4 py-2 bg-gray-200 border border-transparent rounded-md font-semibold text-sm text-gray-700 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-150",onClick:()=>c(!1),children:s("close")})})]})})})]})}export{E as default};
