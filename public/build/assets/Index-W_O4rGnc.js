import{r,G as y,j as e,S as v,x as h,V as N}from"./app-C7HmzJUd.js";import{A as k,m as i}from"./AdminLayout-BDU_HIAd.js";import{P as L}from"./Pagination-BcGU2XBB.js";import"./ApplicationLogo-BmzfqIeR.js";import"./ResponsiveNavLink-C3H-ixPB.js";import"./transition-CDNGgBsE.js";function z({users:s,filters:p}){const[d,o]=r.useState(p.search||""),[a,u]=r.useState(!1),[f,l]=r.useState(!1),[n,g]=r.useState(null),{delete:w,processing:c}=y();r.useEffect(()=>{u(!0)},[]);const j=t=>{g(t),l(!0)},b=()=>{w(route("admin.users.destroy",n.id),{onSuccess:()=>{N.success("User deleted successfully"),l(!1)}})};return e.jsxs(k,{header:"User Management",children:[e.jsx(v,{title:"User Management"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:a?1:0,y:a?0:20},transition:{duration:.5},className:"mb-8 rounded-lg bg-gradient-to-r from-[#303b6a] to-[#272f52] p-6 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-medium text-white",children:"User Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-200",children:"Manage system users and their access"})]}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsxs(h,{href:route("admin.users.create"),className:"inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-medium text-[#303b6a] shadow-sm hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-[#303b6a] transition-colors duration-150",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New User"]})})]})}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:a?1:0,y:a?0:20},transition:{duration:.5,delay:.1},className:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"rounded-lg bg-white p-5 shadow-sm hover:shadow transition-shadow duration-300 border border-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-md bg-gradient-to-r from-[#303b6a] to-[#272f52] text-white shadow-sm",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"truncate text-sm font-bold text-black",children:"Total Users"}),e.jsx("dd",{className:"text-2xl font-medium text-gray-900",children:s.total})]})})]})}),e.jsx("div",{className:"rounded-lg bg-white p-5 shadow-sm hover:shadow transition-shadow duration-300 border border-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-md bg-gradient-to-r from-[#f32d21] to-[#ff6b52] text-white shadow-sm",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"truncate text-sm font-bold text-black",children:"New This Month"}),e.jsx("dd",{className:"text-2xl font-medium text-gray-900",children:s.data.filter(t=>{const m=new Date(t.created_at),x=new Date;return m.getMonth()===x.getMonth()&&m.getFullYear()===x.getFullYear()}).length})]})})]})}),e.jsx("div",{className:"rounded-lg bg-white p-5 shadow-sm hover:shadow transition-shadow duration-300 border border-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-md bg-gradient-to-r from-[#3b82f6] to-[#1d4ed8] text-white shadow-sm",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"truncate text-sm font-bold text-black",children:"Last Activity"}),e.jsx("dd",{className:"text-base font-medium text-gray-900",children:s.data.length>0?new Date(s.data[0].updated_at).toLocaleDateString():"N/A"})]})})]})})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:a?1:0,y:a?0:20},transition:{duration:.5,delay:.2},className:"mb-6 bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:e.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:e.jsx("div",{className:"w-full md:w-1/2 lg:w-1/3",children:e.jsx("form",{children:e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",name:"search",value:d,onChange:t=>o(t.target.value),placeholder:"Search by name or email",className:"block w-full rounded-md border-gray-300 pl-10 pr-10 focus:border-[#303b6a] focus:ring-[#303b6a] sm:text-sm"}),d&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx("button",{type:"button",onClick:()=>o(""),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})})})}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:a?1:0,y:a?0:20},transition:{duration:.5,delay:.3},className:"overflow-hidden rounded-lg bg-white shadow-sm border border-gray-100",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3.5 text-left text-xs font-bold uppercase tracking-wider text-black",children:"ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3.5 text-left text-xs font-bold uppercase tracking-wider text-black",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3.5 text-left text-xs font-bold uppercase tracking-wider text-black",children:"Email"}),e.jsx("th",{scope:"col",className:"px-6 py-3.5 text-left text-xs font-bold uppercase tracking-wider text-black",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3.5 text-left text-xs font-bold uppercase tracking-wider text-black",children:"Created Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3.5 text-left text-xs font-bold uppercase tracking-wider text-black",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.data.length>0?s.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:t.id}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-gradient-to-r from-[#303b6a] to-[#272f52] flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:t.name.charAt(0).toUpperCase()})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name})})]})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:t.email}),e.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:[t.role==="super_admin"&&e.jsx("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800 border border-purple-200",children:"Super Admin"}),t.role==="admin"&&e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800 border border-blue-200",children:"Admin"}),(!t.role||t.role==="user")&&e.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800 border border-gray-200",children:"User"})]}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString()}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(h,{href:route("admin.users.edit",t.id),className:"rounded-md bg-blue-50 px-2.5 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-100",children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>j(t),className:"rounded-md bg-red-50 px-2.5 py-1.5 text-sm font-medium text-red-600 hover:bg-red-100",children:"Delete"})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No users found"})})})]})}),s.data.length>0&&e.jsx("div",{className:"border-t border-gray-200 px-4 py-4 sm:px-6",children:e.jsx(L,{links:s.links})})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start",children:[e.jsx("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Delete User"}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-sm text-gray-500",children:['Are you sure you want to delete the user "',n==null?void 0:n.name,'"? This action cannot be undone.']})})]})]})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[e.jsx("button",{type:"button",onClick:b,disabled:c,className:"inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",children:c?"Deleting...":"Delete"}),e.jsx("button",{type:"button",onClick:()=>l(!1),className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})}export{z as default};
